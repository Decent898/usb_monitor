# 快速入门指南

## 🎯 5 分钟快速上手

### 第一步：安装依赖

```bash
# 进入项目目录
cd usb_monitor

# 安装 PyQt6
pip install -r requirements.txt
```

### 第二步：运行程序

```bash
python3 main.py
```

### 第三步：开始使用

1. **查看 USB 设备**
   - 程序启动后自动显示所有 USB 设备
   - 在 "🔌 USB 设备" 标签页查看

2. **管理 U 盘文件**
   - 切换到 "💾 U 盘管理" 标签页
   - 点击选择一个 U 盘
   - 在下方查看文件列表

3. **上传文件**
   - 点击 "📤 上传文件到 U 盘" 按钮
   - 选择文件
   - 查看传输进度

## 🎨 界面预览

### USB 设备监控
```
┌────────────────────────────────────────────────────┐
│ 🔌 USB 设备管理器            👤 用户: xuhaochen    │
├────────────────────────────────────────────────────┤
│ 🔌 USB 设备  |  💾 U 盘管理                        │
├────────────────────────────────────────────────────┤
│ 🔄 刷新设备列表                                     │
├────────────────────────────────────────────────────┤
│ 设备名称  | 制造商  | 序列号  | 传输速度 | VID:PID │
│ ─────────────────────────────────────────────────  │
│ iPhone    | Apple   | XXX123  | 480 Mb/s | 05ac   │
│ USB 3.0   | Generic | YYY456  | 5 Gb/s   | 1234   │
└────────────────────────────────────────────────────┘
```

### U 盘文件管理
```
┌────────────────────────────────────────────────────┐
│ 📀 已挂载的 U 盘                                    │
│ 设备名称 | 挂载路径 | 总容量 | 可用空间            │
│ ──────────────────────────────────────────────     │
│ MyUSB    | /Volumes | 16 GB  | 10.5 GB             │
├────────────────────────────────────────────────────┤
│ 📝 文件操作                                         │
│ ✍️ 写入文本文件                                     │
│ 文件名: [test.txt_______________]                  │
│ ┌────────────────────────────────────────────┐    │
│ │ 输入文本内容...                             │    │
│ └────────────────────────────────────────────┘    │
│ 💾 写入文本文件                                     │
├────────────────────────────────────────────────────┤
│ 📤 上传文件到 U 盘  ☑️ 显示隐藏文件               │
│ ▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░ 65%  ⚡ 传输速度: 12.5 MB/s  │
├────────────────────────────────────────────────────┤
│ 📂 文件列表                                         │
│ 文件名      | 类型     | 大小    | 操作           │
│ ──────────────────────────────────────────────     │
│ document.pdf| 📄 文件  | 2.5 MB  | 🗑️ 删除       │
│ photos/     | 📁 文件夹| N/A     |                │
└────────────────────────────────────────────────────┘
```

## 💡 常用功能

### 写入文本文件

```python
# 1. 选择 U 盘
# 2. 输入文件名：note.txt
# 3. 输入内容：
Hello, World!
This is a test file.

# 4. 点击 "💾 写入文本文件"
```

### 上传大文件

```python
# 上传视频文件示例
# 1. 点击 "📤 上传文件到 U 盘"
# 2. 选择 movie.mp4 (500 MB)
# 3. 查看实时进度：
#    ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░ 90%
#    ⚡ 传输速度: 25.3 MB/s
```

### 显示隐藏文件

```python
# 查看 .DS_Store 等隐藏文件
# 1. 勾选 "👁️ 显示隐藏文件"
# 2. 文件列表自动刷新
# 3. 显示所有文件（包括 .开头的文件）
```

## 🎮 快捷操作

| 操作 | 方法 |
|------|------|
| 刷新设备 | 点击 "🔄 刷新设备列表" |
| 选择 U 盘 | 在表格中点击 U 盘行 |
| 删除文件 | 点击文件对应的 "🗑️ 删除" |
| 写入文本 | 输入内容后点击 "💾 写入文本文件" |
| 上传文件 | 点击 "📤 上传文件到 U 盘" |

## ⚙️ 配置选项

编辑 `config/settings.ini` 自定义设置：

```ini
[ui]
# 窗口大小
window_width = 1500
window_height = 950

# 自动刷新间隔（毫秒）
auto_refresh_interval = 3000

[transfer]
# 文件传输块大小（字节）
chunk_size = 1048576  # 1MB
```

## 🔥 高级技巧

### 1. 自定义界面颜色

编辑 `src/ui/styles.py`：

```python
# 更改主色调为红色
PRIMARY_COLOR = "#F44336"

# 更改次要色为青色
SECONDARY_COLOR = "#00BCD4"
```

### 2. 调整刷新频率

编辑 `src/ui/main_window.py`：

```python
# 将自动刷新改为 5 秒
self.timer.start(5000)  # 5000 毫秒 = 5 秒
```

### 3. 修改传输块大小

编辑 `src/core/file_transfer.py`：

```python
# 更大的块提高传输速度（适合快速 USB 3.0）
FileTransferThread(source, dest, chunk_size=4*1024*1024)  # 4MB
```

## 🐛 故障排除

### 问题 1：无法检测到 USB 设备

**解决方案：**
```bash
# 检查权限
system_profiler SPUSBDataType

# 如果失败，尝试以管理员权限运行
sudo python3 main.py
```

### 问题 2：U 盘不显示

**解决方案：**
```bash
# 检查挂载点
ls /Volumes/

# 手动挂载 U 盘
diskutil list
diskutil mount /dev/diskX
```

### 问题 3：PyQt6 安装失败

**解决方案：**
```bash
# 使用 Homebrew 安装 Python
brew install python@3.11

# 重新安装 PyQt6
pip3 install --upgrade pip
pip3 install PyQt6
```

## 📱 联系支持

遇到问题？

1. 查看 [完整文档](README.md)
2. 查看 [API 文档](docs/API.md)
3. 查看 [架构说明](docs/ARCHITECTURE.md)
4. 提交 [GitHub Issue](https://github.com/yourusername/usb_monitor/issues)

## 🎓 下一步

- 📖 阅读 [完整功能文档](README.md)
- 🏗️ 了解 [架构设计](docs/ARCHITECTURE.md)
- 🔧 查看 [API 参考](docs/API.md)
- 🚀 探索 [更新计划](docs/CHANGELOG.md)

---

**开始享受便捷的 USB 设备管理吧！** 🎉
